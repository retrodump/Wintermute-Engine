<html>

<head>
<meta http-equiv="Content-Language" content="cs">
<meta name="GENERATOR" content="Microsoft FrontPage 4.0">
<meta name="ProgId" content="FrontPage.Editor.Document">
<meta http-equiv="Content-Type" content="text/html; charset=windows-1250">
<title>Krok 2: Entity ve scénì</title>
<link rel="stylesheet" type="text/css" href="../styles.css">
</head>

<body>

<h3>Krok 2: Entity ve scénì</h3>
<p>V tomto kroku se nauèíme, jak vloit do scény další grafické objekty a jak 
nastavit jejich vlastnosti.</p>
<p>Kadá scéna se skládá z jednoho nebo více grafickıch objektù, které nazıváme 
&quot;entity&quot;. Entity si mùete pøedstavit jako divadelní kulisy. Napøíklad pozadí v 
naší scénì je jedna entita, kterou ProjectMan automaticky vytvoøil pøi zakládání 
nové scény. Ale urèitì jste si všimli, e naše postava se vesele prochází po 
nábytku, co nevypadá pøíliš realisticky. Potøebujeme, aby nìkteré èásti scény 
pøekrıvaly postavy, pokud je to ádoucí. Napøíklad pokud postava stojí za 
stolem,&nbsp; chceme, aby ji stùl èásteènì pøekrıval. Všechny objekty ve scénì, 
které mohou pøekrıvat postavy, musí bıt vytvoøeny jako samostatné entity.</p>
<p>Nyní vytvoøíme ve scénì entitu pro stùl (desk), aby se pak stùl choval
tak, jak bychom oèekávali. </p>

<p>Neprve potøebujeme obrázek stolu. Normálnì bychom otevøeli pozadí v nìjakém
grafickém programu a vyøízli z nìho èást, pøedstavující stùl, tak aby
z nìho vznikl samostatnı objekt. Pro tuto vıuku ji jsem obrázek pøipravil;
najdete ho v adresáøi &quot;tutorial\gfx&quot; a jmenuje se
&quot;desk.bmp&quot;. Naimportujte obrázek do adresáøe se scénou (jak
importovat soubory jsme se nauèili v první kapitole této vıuky).</p>

<p>Otevøete scénu ve SceneEditu (double-click na &quot;MyScene.scene&quot; v nástroji
ProjectMan).</p>

<p>Ujistìte se, e vlevo v seznamu vrstev máte vybránu poloku
&quot;main&quot;. Nyní kliknìte na tlaèítko &quot;Add entity&quot; (Pøidat
entitu) a v menu vyberte &quot;Sprite entity&quot;. Sprite-entita je reprezentována
nìjakou grafikou (v terminologii WME je <b>sprite</b> buïto statickı obrázek,
nebo animace). Další moné typy entit probereme pozdìji.</p>

<p align="center">
<img border="0" src="../img/tut2-1.gif" width="255" height="153"></p>

<p></p>
<p>SceneEdit vytvoøil novou entitu. Jmenuje se &quot;new entity&quot;&nbsp;a ve
scénì je zobrazena jako èervenı obdélník. Nyní potøebujeme zmìnit
vlastnosti této novì vytvoøené entity. Vlastnosti lze zmìnit v oknì
vlastností (Properties) vlevo dole. Zmìòte název (Name) na &quot;desk&quot;.
Také mùete zmìnit vlastnost Caption (titulek) na &quot;Stùl&quot;. Jméno
je interní identifikátor entity, zatímco titulek se zobrazí hráèi. Tìï
potøebujeme zmìnit grafiku, kterou reprezentuje vlastnost &quot;Sprite&quot;
(jak u jsme si øekli, sprite je buïto obrázek, nebo animace). Kliknìte na
tlaèítko s tøemi teèkami vedle vlastnosti Sprite a objeví se standardní
okno pro vıbìr souboru. Najdìte soubor &quot;desk.bmp&quot; v adresáøi
&quot;scenes\MyScene&quot; (ten, kterı jsme pøed chvílí naimportovali). Po
vybrání správného souboru by se mìl zmìnit vzhled naší entity
&quot;desk&quot;. Nyní by mìla bıt ve scénì zobrazena jako obrázek stolu.
Ostatních vlastností entity si prozatím nebudeme všímat.</p>
<p>Entitu mùete posouvat ve scénì tak, e ji pøetáhnete myší. Pøesuòte
obrázek stolu tak, aby pøesnì pøekrıval stùl na pozadí (správná pozice
by mìla bıt 432, 327).</p>

<table border="1" cellspacing="0" cellpadding="3" style="border-collapse: collapse" bordercolor="#111111">
<tr>
  <td>
    <p align="center"><img src="../img/hint.gif" width="23" height="30"><br><b>Rada</b>
  </td>
  <td>
    Pro posunování objektù ve scénì mùete pouívat i klávesy se šipkami,
    tak lze entitu velice pøesnì umístit. Pokud budete bìhem pøesouvání
    dret klávesu SHIFT, bude objekt skákat po pìti pixelech.
  </td>
</table>

<p>&nbsp;</p>

<p>Teï se podívejte vlevo na seznam prvkù. Mìl by vypadat takto (pokud ne,
pouite tlaèítka se šipkami pro zmìnu poøadí prvkù):</p>

<p align="center">
<img border="0" src="../img/tut2-2.gif" width="202" height="194"></p>

<p align="center">&nbsp;</p>

<p>Poøadí prvkù je <u>velice dùleité</u>. Tak vlastnì øíkáte hernímu
engine, v jakém poøadí má jednotlivé èásti scény vykreslovat (prvky,
které jsou v seznamu první, jsou vykreslovány nejdøíve).</p>

<p>Momentálnì vypadá seznam prvk takto:</p>
<ul type="disc" style="margin-bottom: 0cm">
  <li>background (entity) - <i><font color="#808080">pozadí</font></i></li>
  <li>desk (entity) - <i><font color="#808080">stùl</font></i></li>
  <li>floor (region) - <i><font color="#808080">podlaha</font></i></li>
</ul>

<p>Herní engine potom zpracovává scénu takto:</p>
<ul type="disc" style="margin-bottom: 0cm">
  <li>nejprve se nakreslí obrázek pozadí</li>
  <li>pak se vykreslí obrázek stolu</li>
  <li>pak se vykreslí všechny postavy, které stojí v regionu
    &quot;floor&quot; (podlaha)</li>
</ul>

<p>Ulote scénu a zavøete SceneEdit. Spuste hru, abychom scénu otestovali.
Uvidíte, e postava je skuteènì vykreslována vdy nad pozadím i stolem.</p>
<p>Mùete zkusit mìnit poøadí prvkù scény, abyste vidìli, jak poøadí
ovlivòuje vykreslování. Napøíklad pokud zmìníte poøadí takto:</p>
<ul type="disc" style="margin-bottom: 0cm">
  <li>background (entity)</li>
  <li>floor (region)</li>
  <li>desk (entity)</li>
</ul>

<p>Potom bude stùl vdy pøekrıvat postavu (je vykreslován a po ní).
Zkuste si to.</p>

<p>Dobrá, ale my pøece chceme, aby stùl zakrıval postavu jen v pøípadì,
e postava stojí <u>za stolem</u>. Tento úkol dokonèíme v kapitole <a href="inside_scenes_step3.html">Krok
3: Rozloení scény</a>.</p>

<p>Mimochodem, všimli jste si, e stùl se nyní ve høe chová jako
interaktivní objekt? Pokud nad nìj pøesunete ukazatel myši, zmìní se
kurzor a objeví se titulek &quot;Stùl&quot;.</p>

</body>

</html>